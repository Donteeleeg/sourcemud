<?xml version="1.0"?>
<macros>
  <include>mud/server.h</include>
  <include>mud/player.h</include>
  <include>mud/http.h</include>

  <macro name="eq">
    <arg type="string" name="s1" />
    <arg type="string" name="s2" />
    <code><![CDATA[
      stream << (str_eq(s1, s2) ? "yes" : "");
    ]]></code>
  </macro>
  <macro name="ne">
    <arg type="string" name="s1" />
    <arg type="string" name="s2" />
    <code><![CDATA[
      stream << (str_eq(s1, s2) ? "" : "yes");
    ]]></code>
  </macro>
  <macro name="version">
    <code><![CDATA[
      stream << VERSION;
    ]]></code>
  </macro>
  <macro name="build">
    <code><![CDATA[
      stream << __DATE__ " " __TIME__;
    ]]></code>
  </macro>
  <macro name="uptime">
    <code><![CDATA[
      stream << AweMUD::get_uptime();
    ]]></code>
  </macro>
  <macro name="player-count">
    <code><![CDATA[
      stream << PlayerManager.count();
    ]]></code>
  </macro>
  <macro name="day-or-night">
    <code><![CDATA[
      stream << (TimeManager.time.is_night() ? "night" : "day");
    ]]></code>
  </macro>
  <macro name="bold">
    <arg type="string" name="str" />
    <code><![CDATA[
      stream << CBOLD << str << CNORMAL;
    ]]></code>
  </macro>
  <macro name="hostname">
    <code><![CDATA[
      stream << NetworkManager.get_host();
    ]]></code>
  </macro>
  <macro name="date">
    <code><![CDATA[
      stream << TimeManager.time.date_str();
    ]]></code>
  </macro>
  <macro name="time">
    <code><![CDATA[
      stream << TimeManager.time.time_str();
    ]]></code>
  </macro>
  <macro name="date-year">
    <code><![CDATA[
      stream << TimeManager.time.get_year();
    ]]></code>
  </macro>
  <macro name="date-month">
    <code><![CDATA[
      stream << TimeManager.time.get_month();
    ]]></code>
  </macro>
  <macro name="date-day">
    <code><![CDATA[
      stream << TimeManager.time.get_day();
    ]]></code>
  </macro>
  <macro name="time-hours24">
    <code><![CDATA[
      stream << TimeManager.time.get_hour();
    ]]></code>
  </macro>
  <macro name="time-hours12">
    <code><![CDATA[
      uint hours = TimeManager.time.get_hour();
      stream << (hours == 0 ? 12 : (hours <= 12 ? hours : hours - 12));
    ]]></code>
  </macro>
  <macro name="time-ampm">
    <code><![CDATA[
      stream << (TimeManager.time.get_hour() < 12 ? "am" : "pm");
    ]]></code>
  </macro>
  <macro name="time-minutes">
    <code><![CDATA[
      stream << (TimeManager.time.get_minutes());
    ]]></code>
  </macro>
  <macro name="html">
    <arg type="string" name="str" />
    <code><![CDATA[ stream << StreamHTTPEscape(str); ]]></code>
  </macro>
</macros>
<!-- vim: set filetype=xml shiftwidth=2 tabstop=2 expandtab : -->
